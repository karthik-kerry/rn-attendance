import {
  View,
  Text,
  StatusBar,
  TouchableOpacity,
  Dimensions,
  ScrollView,
  Modal,
  TextInput,
} from "react-native";
import React, { useEffect, useState } from "react";
import Header from "../components/Header";
import { useNavigation } from "@react-navigation/native";
import Svg, { Circle, Path } from "react-native-svg";
import { base_url } from "../constant/api";
import AsyncStorage from "@react-native-async-storage/async-storage";
import axios from "axios";
import FlexibleBreakCard from "../components/FlexibleBreakCard";
import FixedBreakCard from "../components/FixedBreakCard";

const BreakScreen = () => {
  const navigation = useNavigation();
  const { width } = Dimensions.get("window");

  const [modalVisible, setModalVisible] = useState(false);
  const [text, setText] = useState("");
  const [userData, setUserData] = useState(null);
  const [breakList, setBreakList] = useState([]);

  useEffect(() => {
    const fetchUserData = async () => {
      const storedData = await AsyncStorage.getItem("userData");
      if (storedData) {
        setUserData(JSON.parse(storedData));
      }
    };

    fetchUserData();
  }, []);

  useEffect(() => {
    const fetchBreakList = async () => {
      try {
        const endpoint = `${base_url}/hrm/hrm_shiftbreak_view/14/78/`;
        const headers = {
          Authorization: `Token ${userData?.token}`,
        };
        const res = await axios.get(endpoint, { headers });
        setBreakList(res.data);
      } catch (error) {
        console.error("Error fetching break list: ", error);
      }
    };
    if (userData?.token) {
      fetchBreakList();
    }
  }, [userData]);

  return (
    <View style={{ flex: 1, paddingHorizontal: 20 }}>
      <StatusBar backgroundColor="#F4F6F8" barStyle="dark-content" />
      <Header
        title="Break"
        navigate={() => navigation.goBack()}
        addVisible={true}
        addFunc={() => {}}
      />
      <ScrollView
        showsVerticalScrollIndicator={false}
        style={{ marginBottom: 50 }}
      >
        <View style={{ marginVertical: 20, gap: 10 }}>
          {(() => {
            const flexibleBreaks = breakList.filter(
              (item) =>
                item.fixed_or_flexible === "flexible" ||
                item.fixed_or_flexible === null
            );
            const chunked = [];
            for (let i = 0; i < flexibleBreaks.length; i += 2) {
              chunked.push(flexibleBreaks.slice(i, i + 2));
            }
            return chunked.map((pair, idx) => (
              <View
                key={idx}
                style={{
                  flexDirection: "row",
                  alignItems: "center",
                  justifyContent: "space-between",
                  marginBottom: 10,
                }}
              >
                {pair.map((breakItem) => (
                  <FlexibleBreakCard
                    key={breakItem.id}
                    id={breakItem.id}
                    title={breakItem.name}
                    duration={breakItem.allowed_break_duration_min}
                    openModal={() => setModalVisible(true)}
                    icon={
                      <Svg
                        width="68"
                        height="63"
                        viewBox="0 0 68 63"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <Circle
                          cx="55"
                          cy="15"
                          r="13"
                          fill="#2563EB"
                          fillOpacity="0.2"
                        />
                        <Path
                          d="M26.984 57.9858C25.1004 57.9858 23.2396 57.7929 21.4354 57.4071C21.1745 57.3617 20.9702 57.1234 20.9702 56.8511C20.9702 56.4994 21.3106 56.2271 21.6624 56.2951C25.1459 57.0327 28.8903 57.0327 32.4304 56.2725C32.7481 56.2044 33.0431 56.3973 33.0999 56.7036C33.1679 57.01 32.975 57.3163 32.6687 57.3731C30.8078 57.7702 28.9015 57.9744 26.9839 57.9744L26.984 57.9858Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M53.0017 26.9885C52.7294 26.9885 52.4911 26.7956 52.4457 26.5233C50.2898 14.1441 39.5899 5.14598 26.9839 5.14598C20.5956 5.14598 14.4686 7.49474 9.72511 11.7724C9.48683 11.9766 9.13507 11.9653 8.91947 11.727C8.70386 11.4887 8.72657 11.137 8.96485 10.9214C13.9234 6.46218 20.3233 4 26.9832 4C40.1339 4 51.3107 13.3837 53.5576 26.3075C53.6143 26.6139 53.4101 26.9089 53.0924 26.9656H52.9903L53.0017 26.9885Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M17.2814 56.1394C17.2134 56.1394 17.1453 56.128 17.0772 56.1053C6.70641 52.0206 0 42.1714 0 31.0071C0 26.6841 1.04391 22.3954 3.01821 18.617C3.16572 18.3334 3.50613 18.2313 3.77847 18.3788C4.06213 18.5263 4.16426 18.8667 4.01674 19.139C2.13314 22.7586 1.13462 26.8663 1.13462 31.0077C1.13462 41.6963 7.55694 51.1367 17.4856 55.0399C17.7806 55.1533 17.9168 55.4824 17.8033 55.7774C17.7126 56.0043 17.497 56.1405 17.2814 56.1405L17.2814 56.1394Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M5.59582 16.074C5.48236 16.074 5.36889 16.04 5.26677 15.9719C5.00579 15.7904 4.94906 15.4386 5.13061 15.1776C5.42563 14.7578 5.76603 14.3266 6.19724 13.8047C6.40149 13.5664 6.75323 13.5324 6.99156 13.7366C7.22988 13.9409 7.26388 14.2926 7.05964 14.5309C6.70788 14.9508 6.36749 15.3819 6.06112 15.8131C5.94765 15.9719 5.77745 16.0514 5.5959 16.0514L5.59582 16.074Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M36.7874 56.1038C36.5604 56.1038 36.3448 55.9676 36.2654 55.7407C36.1519 55.4457 36.2881 55.1166 36.5831 55.0032C39.6241 53.8005 42.3586 52.0417 44.7303 49.7837C44.9572 49.5682 45.309 49.5795 45.5359 49.8064C45.7515 50.0334 45.7402 50.3965 45.5132 50.6121C43.0397 52.9721 40.1689 54.7989 37.003 56.0584C36.9349 56.0811 36.8668 56.1038 36.7987 56.1038L36.7874 56.1038Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M26.9834 47.7751C24.8842 47.7751 22.8418 47.3893 20.9015 46.6291C20.6065 46.5156 20.4703 46.1866 20.5838 45.8916C20.6972 45.5966 21.0263 45.4604 21.3213 45.5739C24.9636 47.0149 29.1054 46.9922 32.7589 45.5398C33.0539 45.4264 33.3829 45.5625 33.4964 45.8575C33.6098 46.1525 33.4737 46.4816 33.1787 46.595C31.2043 47.3779 29.1165 47.7864 26.9834 47.7864V47.7751Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M36.3329 44.7924C36.1514 44.7924 35.9812 44.713 35.8677 44.5542C35.6862 44.2932 35.7542 43.9414 36.0039 43.7599C37.3655 42.8067 38.5682 41.638 39.5554 40.2879C39.7369 40.0382 40.1 39.9815 40.3497 40.163C40.5994 40.3446 40.6561 40.7077 40.4745 40.9573C39.4079 42.421 38.1257 43.6692 36.6507 44.6903C36.5486 44.7584 36.4351 44.7924 36.3216 44.7924L36.3329 44.7924Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M43.1755 30.733C42.8805 30.733 42.6195 30.4948 42.6081 30.1998C42.4606 27.3518 41.5415 24.6059 39.953 22.2568C39.7715 21.9958 39.8395 21.6441 40.1005 21.4739C40.3615 21.3037 40.7132 21.3604 40.8834 21.6214C42.5968 24.1404 43.584 27.0791 43.7428 30.1315C43.7542 30.4492 43.5159 30.7102 43.2095 30.7329L43.1755 30.733Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M17.7249 44.8575C17.6115 44.8575 17.498 44.8234 17.3959 44.7553C12.8912 41.601 10.2134 36.4609 10.2134 31.003C10.2134 21.7442 17.736 14.2217 26.9841 14.2217C31.3186 14.2217 35.4261 15.8782 38.5691 18.8737C38.7961 19.0893 38.8074 19.4524 38.5918 19.6794C38.3762 19.9063 38.0131 19.9176 37.7862 19.702C34.8587 16.9108 31.0235 15.3676 26.9956 15.3676C18.3721 15.3676 11.3599 22.3912 11.3599 31.0146C11.3599 36.1092 13.8676 40.8972 18.0659 43.836C18.3269 44.0176 18.3836 44.3693 18.2021 44.6303C18.0886 44.7892 17.9184 44.8686 17.7369 44.8686L17.7249 44.8575Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M19.381 62.493C18.6095 62.493 17.8833 62.1867 17.3386 61.6307C16.8053 61.0747 16.5216 60.3372 16.5557 59.5656L17.5202 35.0795C14.7062 34.1605 12.9814 31.2558 12.9814 27.3755C12.9814 22.5192 15.7273 17.0957 19.4151 17.0957C23.1029 17.0957 25.8601 22.5194 25.8601 27.3755C25.8601 31.3014 24.1013 34.2175 21.2306 35.1137L22.195 59.5656C22.2291 60.3371 21.9454 61.0746 21.4121 61.6307C20.8789 62.1867 20.1526 62.493 19.3697 62.493H19.381ZM19.4264 18.2186C16.7032 18.2186 14.1275 22.6664 14.1275 27.3641C14.1275 30.8929 15.7047 33.4799 18.2464 34.0926C18.5073 34.1607 18.6889 34.3989 18.6775 34.6713L17.6903 59.5995C17.6677 60.0648 17.8379 60.5073 18.1556 60.8363C18.8023 61.5058 19.9484 61.5058 20.5951 60.8363C20.9129 60.5073 21.0831 60.0647 21.0604 59.5995L20.0732 34.6938C20.0732 34.4215 20.2434 34.1832 20.5157 34.1151C23.1141 33.5251 24.7254 30.9381 24.7254 27.3639C24.7254 22.6664 22.1496 18.2184 19.4151 18.2184L19.4264 18.2186Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M34.6878 62.4925C33.9163 62.4925 33.1901 62.1861 32.6454 61.6301C32.1121 61.0742 31.8284 60.3367 31.8625 59.565L32.827 35.0565C30.3193 34.2169 28.606 31.8794 28.606 29.2017V18.7853C28.606 17.855 29.3662 17.0947 30.2966 17.0947C31.227 17.0947 31.9873 17.855 31.9873 18.7853V26.2171C31.9873 26.5234 32.2369 26.773 32.5433 26.773C32.8496 26.773 33.0992 26.5234 33.0992 26.2171V18.7853C33.0992 17.855 33.8595 17.0947 34.7899 17.0947C35.7203 17.0947 36.4806 17.855 36.4806 18.7853V26.2171C36.4806 26.5234 36.7302 26.773 37.0365 26.773C37.3429 26.773 37.5925 26.5234 37.5925 26.2171V18.7853C37.5925 17.855 38.3528 17.0947 39.2832 17.0947C40.2136 17.0947 40.9738 17.855 40.9738 18.7853V28.9519C40.9738 31.8339 39.1357 34.3528 36.5372 35.1357L37.5017 59.5651C37.5357 60.3367 37.2521 61.0742 36.7188 61.6302C36.1855 62.1863 35.4594 62.4925 34.6878 62.4925ZM30.308 18.2181C30.0016 18.2181 29.752 18.4677 29.752 18.774V29.1903C29.752 31.505 31.3178 33.5134 33.5532 34.0807C33.8142 34.1488 33.9957 34.3871 33.9844 34.6481L32.9972 59.5989C32.9745 60.0641 33.1447 60.5066 33.4624 60.8356C34.1092 61.5051 35.2553 61.5051 35.902 60.8356C36.2197 60.5066 36.3899 60.0641 36.3786 59.5989L35.3914 34.7156C35.3914 34.4433 35.5729 34.1937 35.8453 34.1369C38.1713 33.6377 39.8507 31.4591 39.8507 28.9402V18.7737C39.8507 18.4674 39.601 18.2177 39.2947 18.2177C38.9883 18.2177 38.7387 18.4674 38.7387 18.7737V26.2054C38.7387 27.1358 37.9784 27.8961 37.048 27.8961C36.1176 27.8961 35.3574 27.1358 35.3574 26.2054V18.7737C35.3574 18.4674 35.1077 18.2177 34.8014 18.2177C34.495 18.2177 34.2454 18.4674 34.2454 18.7737V26.2054C34.2454 27.1358 33.4851 27.8961 32.5547 27.8961C31.6243 27.8961 30.8641 27.1358 30.8641 26.2054V18.7737C30.8641 18.4674 30.6144 18.2181 30.308 18.2181Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M51.8556 50.6154C46.2617 50.6154 41.7114 46.0655 41.7114 40.4714V38.2021C41.7114 37.8844 41.9611 37.6348 42.2788 37.6348C42.5965 37.6348 42.8461 37.8844 42.8461 38.2021V40.4714C42.8461 45.4412 46.8856 49.4804 51.8553 49.4804C56.825 49.4804 60.8645 45.441 60.8645 40.4714V38.2021C60.8645 37.8844 61.1141 37.6348 61.4318 37.6348C61.7495 37.6348 61.9991 37.8844 61.9991 38.2021V40.4714C61.9991 46.0652 57.4498 50.6154 51.8556 50.6154Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M51.8556 48.3427C46.2617 48.3427 41.7114 43.7927 41.7114 38.1987C41.7114 32.6046 46.2615 28.0547 51.8556 28.0547C57.4498 28.0547 61.9999 32.6046 61.9999 38.1987C61.9999 43.7927 57.4498 48.3427 51.8556 48.3427ZM51.8556 29.2013C46.8857 29.2013 42.8465 33.2407 42.8465 38.2103C42.8465 43.1799 46.8859 47.2193 51.8556 47.2193C56.8254 47.2193 60.8648 43.1799 60.8648 38.2103C60.8648 33.2407 56.8254 29.2013 51.8556 29.2013Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M51.8558 46.0716C47.51 46.0716 43.981 42.5428 43.981 38.197C43.981 33.8511 47.5098 30.3223 51.8558 30.3223C56.2018 30.3223 59.7307 33.8511 59.7307 38.197C59.7307 42.5428 56.2018 46.0716 51.8558 46.0716ZM51.8558 31.4689C48.1454 31.4689 45.1159 34.4871 45.1159 38.2087C45.1159 41.9304 48.1341 44.9485 51.8558 44.9485C55.5776 44.9485 58.5958 41.9304 58.5958 38.2087C58.5958 34.4871 55.5776 31.4689 51.8558 31.4689Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M51.8559 38.7772C51.7878 38.7772 51.7084 38.7658 51.6403 38.7318C51.4247 38.641 51.2886 38.4368 51.2886 38.2098V34.5449C51.2886 34.2272 51.5382 33.9775 51.8559 33.9775C52.1736 33.9775 52.4233 34.2272 52.4233 34.5449V36.8368L53.2856 35.9745C53.5125 35.7476 53.8643 35.7476 54.0913 35.9745C54.3182 36.2014 54.3182 36.5532 54.0913 36.7801L52.2644 38.6069C52.151 38.7204 52.0148 38.7771 51.8673 38.7771L51.8559 38.7772Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M51.8662 46.085C51.5485 46.085 51.2988 45.8354 51.2988 45.5177V44.122C51.2988 43.8043 51.5485 43.5547 51.8662 43.5547C52.1839 43.5547 52.4335 43.8043 52.4335 44.122V45.5177C52.4335 45.8354 52.1839 46.085 51.8662 46.085Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M48.2135 45.0982C48.1114 45.0982 48.0206 45.0755 47.9299 45.0188C47.6575 44.8599 47.5668 44.5195 47.7256 44.2472L48.4178 43.0558C48.5766 42.7835 48.9284 42.6928 49.1894 42.8516C49.4617 43.0105 49.5525 43.3509 49.3936 43.6232L48.7015 44.8145C48.5993 44.9961 48.4064 45.0982 48.2135 45.0982Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M45.5353 42.429C45.3424 42.429 45.1495 42.3269 45.0474 42.1454C44.8885 41.8731 44.9906 41.5327 45.2516 41.3738L46.4543 40.6817C46.7267 40.5228 47.0671 40.6136 47.2259 40.8859C47.3848 41.1582 47.2827 41.4986 47.0217 41.6575L45.819 42.3496C45.7282 42.395 45.6374 42.429 45.5353 42.429Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M45.9443 38.788H44.56C44.2423 38.788 43.9927 38.5384 43.9927 38.2206C43.9927 37.9029 44.2423 37.6533 44.56 37.6533H45.9443C46.262 37.6533 46.5116 37.9029 46.5116 38.2206C46.5116 38.5384 46.262 38.788 45.9443 38.788Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M46.7273 35.8275C46.6365 35.8275 46.5344 35.8048 46.4436 35.7481L45.2409 35.0559C44.9686 34.8971 44.8778 34.5567 45.0367 34.2844C45.1955 34.012 45.5473 33.9213 45.8082 34.0801L47.011 34.7723C47.2833 34.9311 47.3741 35.2715 47.2152 35.5438C47.1131 35.7254 46.9202 35.8275 46.7273 35.8275Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M48.8837 33.6627C48.6908 33.6627 48.4979 33.5605 48.3958 33.379L47.7037 32.1876C47.5448 31.9153 47.6356 31.5749 47.9079 31.4161C48.1802 31.2572 48.5206 31.348 48.6795 31.6203L49.3716 32.8117C49.5305 33.084 49.4397 33.4244 49.1674 33.5832C49.0766 33.64 48.9745 33.6627 48.8837 33.6627Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M51.8564 32.8529C51.5387 32.8529 51.2891 32.6033 51.2891 32.2856V30.9013C51.2891 30.5836 51.5387 30.334 51.8564 30.334C52.1741 30.334 52.4237 30.5836 52.4237 30.9013V32.2856C52.4237 32.6033 52.1741 32.8529 51.8564 32.8529Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M54.806 33.6475C54.7152 33.6475 54.6131 33.6248 54.5223 33.5795C54.25 33.4206 54.1479 33.0802 54.3067 32.8079L54.9876 31.6052C55.1464 31.3329 55.4868 31.2421 55.7591 31.3896C56.0315 31.5485 56.1336 31.8888 55.9747 32.1612L55.2939 33.3639C55.1918 33.5454 54.9989 33.6475 54.806 33.6475Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M56.9738 35.804C56.7809 35.804 56.588 35.7019 56.4859 35.5204C56.327 35.2481 56.4178 34.9077 56.6901 34.7488L57.8815 34.0567C58.1538 33.8978 58.4942 33.9886 58.6531 34.2609C58.812 34.5332 58.7212 34.8736 58.4489 35.0325L57.2575 35.7246C57.1667 35.7814 57.0646 35.804 56.9738 35.804Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M59.1617 38.7694H57.7661C57.4484 38.7694 57.1987 38.5198 57.1987 38.2021C57.1987 37.8844 57.4484 37.6348 57.7661 37.6348H59.1617C59.4795 37.6348 59.7291 37.8844 59.7291 38.2021C59.7291 38.5198 59.4795 38.7694 59.1617 38.7694Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M58.1873 42.4203C58.0965 42.4203 57.9944 42.3976 57.9036 42.3408L56.7009 41.6487C56.4285 41.4898 56.3378 41.1494 56.4966 40.8771C56.6555 40.6048 56.9959 40.514 57.2682 40.6729L58.4709 41.365C58.7433 41.5239 58.834 41.8643 58.6752 42.1366C58.5731 42.3181 58.3802 42.4203 58.1873 42.4203Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                        <Path
                          d="M55.5092 45.0978C55.3163 45.0978 55.1234 44.9957 55.0213 44.8141L54.3291 43.6115C54.1703 43.3391 54.2724 42.9987 54.5334 42.8399C54.8057 42.681 55.1461 42.7718 55.3049 43.0441L55.9971 44.2468C56.1559 44.5191 56.0538 44.8595 55.7928 45.0184C55.7021 45.0638 55.6113 45.0978 55.5092 45.0978Z"
                          fill="#64748B"
                          fillOpacity="0.7"
                        />
                      </Svg>
                    }
                  />
                ))}
                {pair.length === 1 && <View style={{ flex: 1 }} />}
              </View>
            ));
          })()}
        </View>
        <View style={{ gap: 12, marginTop: 10 }}>
          <Text
            style={{
              color: "#1b1b1b",
              fontFamily: "Inter-SemiBold",
              fontSize: 16,
            }}
          >
            Fixed Break Times
          </Text>
          {breakList
            .filter((item) => item.fixed_or_flexible === "fixed")
            .map((breakItem) => (
              <FixedBreakCard
                key={breakItem.id}
                title={breakItem.name || breakItem.break_type}
                duration={
                  breakItem.start_time && breakItem.end_time
                    ? `${breakItem.start_time.slice(
                        0,
                        5
                      )} - ${breakItem.end_time.slice(0, 5)}`
                    : `${breakItem.allowed_break_duration_min} min`
                }
                icon={
                  <Svg
                    width="68"
                    height="63"
                    viewBox="0 0 68 63"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <Circle
                      cx="55"
                      cy="15"
                      r="13"
                      fill="#2563EB"
                      fillOpacity="0.2"
                    />
                    <Path
                      d="M26.984 57.9858C25.1004 57.9858 23.2396 57.7929 21.4354 57.4071C21.1745 57.3617 20.9702 57.1234 20.9702 56.8511C20.9702 56.4994 21.3106 56.2271 21.6624 56.2951C25.1459 57.0327 28.8903 57.0327 32.4304 56.2725C32.7481 56.2044 33.0431 56.3973 33.0999 56.7036C33.1679 57.01 32.975 57.3163 32.6687 57.3731C30.8078 57.7702 28.9015 57.9744 26.9839 57.9744L26.984 57.9858Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M53.0017 26.9885C52.7294 26.9885 52.4911 26.7956 52.4457 26.5233C50.2898 14.1441 39.5899 5.14598 26.9839 5.14598C20.5956 5.14598 14.4686 7.49474 9.72511 11.7724C9.48683 11.9766 9.13507 11.9653 8.91947 11.727C8.70386 11.4887 8.72657 11.137 8.96485 10.9214C13.9234 6.46218 20.3233 4 26.9832 4C40.1339 4 51.3107 13.3837 53.5576 26.3075C53.6143 26.6139 53.4101 26.9089 53.0924 26.9656H52.9903L53.0017 26.9885Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M17.2814 56.1394C17.2134 56.1394 17.1453 56.128 17.0772 56.1053C6.70641 52.0206 0 42.1714 0 31.0071C0 26.6841 1.04391 22.3954 3.01821 18.617C3.16572 18.3334 3.50613 18.2313 3.77847 18.3788C4.06213 18.5263 4.16426 18.8667 4.01674 19.139C2.13314 22.7586 1.13462 26.8663 1.13462 31.0077C1.13462 41.6963 7.55694 51.1367 17.4856 55.0399C17.7806 55.1533 17.9168 55.4824 17.8033 55.7774C17.7126 56.0043 17.497 56.1405 17.2814 56.1405L17.2814 56.1394Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M5.59582 16.074C5.48236 16.074 5.36889 16.04 5.26677 15.9719C5.00579 15.7904 4.94906 15.4386 5.13061 15.1776C5.42563 14.7578 5.76603 14.3266 6.19724 13.8047C6.40149 13.5664 6.75323 13.5324 6.99156 13.7366C7.22988 13.9409 7.26388 14.2926 7.05964 14.5309C6.70788 14.9508 6.36749 15.3819 6.06112 15.8131C5.94765 15.9719 5.77745 16.0514 5.5959 16.0514L5.59582 16.074Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M36.7874 56.1038C36.5604 56.1038 36.3448 55.9676 36.2654 55.7407C36.1519 55.4457 36.2881 55.1166 36.5831 55.0032C39.6241 53.8005 42.3586 52.0417 44.7303 49.7837C44.9572 49.5682 45.309 49.5795 45.5359 49.8064C45.7515 50.0334 45.7402 50.3965 45.5132 50.6121C43.0397 52.9721 40.1689 54.7989 37.003 56.0584C36.9349 56.0811 36.8668 56.1038 36.7987 56.1038L36.7874 56.1038Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M26.9834 47.7751C24.8842 47.7751 22.8418 47.3893 20.9015 46.6291C20.6065 46.5156 20.4703 46.1866 20.5838 45.8916C20.6972 45.5966 21.0263 45.4604 21.3213 45.5739C24.9636 47.0149 29.1054 46.9922 32.7589 45.5398C33.0539 45.4264 33.3829 45.5625 33.4964 45.8575C33.6098 46.1525 33.4737 46.4816 33.1787 46.595C31.2043 47.3779 29.1165 47.7864 26.9834 47.7864V47.7751Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M36.3329 44.7924C36.1514 44.7924 35.9812 44.713 35.8677 44.5542C35.6862 44.2932 35.7542 43.9414 36.0039 43.7599C37.3655 42.8067 38.5682 41.638 39.5554 40.2879C39.7369 40.0382 40.1 39.9815 40.3497 40.163C40.5994 40.3446 40.6561 40.7077 40.4745 40.9573C39.4079 42.421 38.1257 43.6692 36.6507 44.6903C36.5486 44.7584 36.4351 44.7924 36.3216 44.7924L36.3329 44.7924Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M43.1755 30.733C42.8805 30.733 42.6195 30.4948 42.6081 30.1998C42.4606 27.3518 41.5415 24.6059 39.953 22.2568C39.7715 21.9958 39.8395 21.6441 40.1005 21.4739C40.3615 21.3037 40.7132 21.3604 40.8834 21.6214C42.5968 24.1404 43.584 27.0791 43.7428 30.1315C43.7542 30.4492 43.5159 30.7102 43.2095 30.7329L43.1755 30.733Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M17.7249 44.8575C17.6115 44.8575 17.498 44.8234 17.3959 44.7553C12.8912 41.601 10.2134 36.4609 10.2134 31.003C10.2134 21.7442 17.736 14.2217 26.9841 14.2217C31.3186 14.2217 35.4261 15.8782 38.5691 18.8737C38.7961 19.0893 38.8074 19.4524 38.5918 19.6794C38.3762 19.9063 38.0131 19.9176 37.7862 19.702C34.8587 16.9108 31.0235 15.3676 26.9956 15.3676C18.3721 15.3676 11.3599 22.3912 11.3599 31.0146C11.3599 36.1092 13.8676 40.8972 18.0659 43.836C18.3269 44.0176 18.3836 44.3693 18.2021 44.6303C18.0886 44.7892 17.9184 44.8686 17.7369 44.8686L17.7249 44.8575Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M19.381 62.493C18.6095 62.493 17.8833 62.1867 17.3386 61.6307C16.8053 61.0747 16.5216 60.3372 16.5557 59.5656L17.5202 35.0795C14.7062 34.1605 12.9814 31.2558 12.9814 27.3755C12.9814 22.5192 15.7273 17.0957 19.4151 17.0957C23.1029 17.0957 25.8601 22.5194 25.8601 27.3755C25.8601 31.3014 24.1013 34.2175 21.2306 35.1137L22.195 59.5656C22.2291 60.3371 21.9454 61.0746 21.4121 61.6307C20.8789 62.1867 20.1526 62.493 19.3697 62.493H19.381ZM19.4264 18.2186C16.7032 18.2186 14.1275 22.6664 14.1275 27.3641C14.1275 30.8929 15.7047 33.4799 18.2464 34.0926C18.5073 34.1607 18.6889 34.3989 18.6775 34.6713L17.6903 59.5995C17.6677 60.0648 17.8379 60.5073 18.1556 60.8363C18.8023 61.5058 19.9484 61.5058 20.5951 60.8363C20.9129 60.5073 21.0831 60.0647 21.0604 59.5995L20.0732 34.6938C20.0732 34.4215 20.2434 34.1832 20.5157 34.1151C23.1141 33.5251 24.7254 30.9381 24.7254 27.3639C24.7254 22.6664 22.1496 18.2184 19.4151 18.2184L19.4264 18.2186Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M34.6878 62.4925C33.9163 62.4925 33.1901 62.1861 32.6454 61.6301C32.1121 61.0742 31.8284 60.3367 31.8625 59.565L32.827 35.0565C30.3193 34.2169 28.606 31.8794 28.606 29.2017V18.7853C28.606 17.855 29.3662 17.0947 30.2966 17.0947C31.227 17.0947 31.9873 17.855 31.9873 18.7853V26.2171C31.9873 26.5234 32.2369 26.773 32.5433 26.773C32.8496 26.773 33.0992 26.5234 33.0992 26.2171V18.7853C33.0992 17.855 33.8595 17.0947 34.7899 17.0947C35.7203 17.0947 36.4806 17.855 36.4806 18.7853V26.2171C36.4806 26.5234 36.7302 26.773 37.0365 26.773C37.3429 26.773 37.5925 26.5234 37.5925 26.2171V18.7853C37.5925 17.855 38.3528 17.0947 39.2832 17.0947C40.2136 17.0947 40.9738 17.855 40.9738 18.7853V28.9519C40.9738 31.8339 39.1357 34.3528 36.5372 35.1357L37.5017 59.5651C37.5357 60.3367 37.2521 61.0742 36.7188 61.6302C36.1855 62.1863 35.4594 62.4925 34.6878 62.4925ZM30.308 18.2181C30.0016 18.2181 29.752 18.4677 29.752 18.774V29.1903C29.752 31.505 31.3178 33.5134 33.5532 34.0807C33.8142 34.1488 33.9957 34.3871 33.9844 34.6481L32.9972 59.5989C32.9745 60.0641 33.1447 60.5066 33.4624 60.8356C34.1092 61.5051 35.2553 61.5051 35.902 60.8356C36.2197 60.5066 36.3899 60.0641 36.3786 59.5989L35.3914 34.7156C35.3914 34.4433 35.5729 34.1937 35.8453 34.1369C38.1713 33.6377 39.8507 31.4591 39.8507 28.9402V18.7737C39.8507 18.4674 39.601 18.2177 39.2947 18.2177C38.9883 18.2177 38.7387 18.4674 38.7387 18.7737V26.2054C38.7387 27.1358 37.9784 27.8961 37.048 27.8961C36.1176 27.8961 35.3574 27.1358 35.3574 26.2054V18.7737C35.3574 18.4674 35.1077 18.2177 34.8014 18.2177C34.495 18.2177 34.2454 18.4674 34.2454 18.7737V26.2054C34.2454 27.1358 33.4851 27.8961 32.5547 27.8961C31.6243 27.8961 30.8641 27.1358 30.8641 26.2054V18.7737C30.8641 18.4674 30.6144 18.2181 30.308 18.2181Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M51.8556 50.6154C46.2617 50.6154 41.7114 46.0655 41.7114 40.4714V38.2021C41.7114 37.8844 41.9611 37.6348 42.2788 37.6348C42.5965 37.6348 42.8461 37.8844 42.8461 38.2021V40.4714C42.8461 45.4412 46.8856 49.4804 51.8553 49.4804C56.825 49.4804 60.8645 45.441 60.8645 40.4714V38.2021C60.8645 37.8844 61.1141 37.6348 61.4318 37.6348C61.7495 37.6348 61.9991 37.8844 61.9991 38.2021V40.4714C61.9991 46.0652 57.4498 50.6154 51.8556 50.6154Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M51.8556 48.3427C46.2617 48.3427 41.7114 43.7927 41.7114 38.1987C41.7114 32.6046 46.2615 28.0547 51.8556 28.0547C57.4498 28.0547 61.9999 32.6046 61.9999 38.1987C61.9999 43.7927 57.4498 48.3427 51.8556 48.3427ZM51.8556 29.2013C46.8857 29.2013 42.8465 33.2407 42.8465 38.2103C42.8465 43.1799 46.8859 47.2193 51.8556 47.2193C56.8254 47.2193 60.8648 43.1799 60.8648 38.2103C60.8648 33.2407 56.8254 29.2013 51.8556 29.2013Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M51.8558 46.0716C47.51 46.0716 43.981 42.5428 43.981 38.197C43.981 33.8511 47.5098 30.3223 51.8558 30.3223C56.2018 30.3223 59.7307 33.8511 59.7307 38.197C59.7307 42.5428 56.2018 46.0716 51.8558 46.0716ZM51.8558 31.4689C48.1454 31.4689 45.1159 34.4871 45.1159 38.2087C45.1159 41.9304 48.1341 44.9485 51.8558 44.9485C55.5776 44.9485 58.5958 41.9304 58.5958 38.2087C58.5958 34.4871 55.5776 31.4689 51.8558 31.4689Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M51.8559 38.7772C51.7878 38.7772 51.7084 38.7658 51.6403 38.7318C51.4247 38.641 51.2886 38.4368 51.2886 38.2098V34.5449C51.2886 34.2272 51.5382 33.9775 51.8559 33.9775C52.1736 33.9775 52.4233 34.2272 52.4233 34.5449V36.8368L53.2856 35.9745C53.5125 35.7476 53.8643 35.7476 54.0913 35.9745C54.3182 36.2014 54.3182 36.5532 54.0913 36.7801L52.2644 38.6069C52.151 38.7204 52.0148 38.7771 51.8673 38.7771L51.8559 38.7772Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M51.8662 46.085C51.5485 46.085 51.2988 45.8354 51.2988 45.5177V44.122C51.2988 43.8043 51.5485 43.5547 51.8662 43.5547C52.1839 43.5547 52.4335 43.8043 52.4335 44.122V45.5177C52.4335 45.8354 52.1839 46.085 51.8662 46.085Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M48.2135 45.0982C48.1114 45.0982 48.0206 45.0755 47.9299 45.0188C47.6575 44.8599 47.5668 44.5195 47.7256 44.2472L48.4178 43.0558C48.5766 42.7835 48.9284 42.6928 49.1894 42.8516C49.4617 43.0105 49.5525 43.3509 49.3936 43.6232L48.7015 44.8145C48.5993 44.9961 48.4064 45.0982 48.2135 45.0982Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M45.5353 42.429C45.3424 42.429 45.1495 42.3269 45.0474 42.1454C44.8885 41.8731 44.9906 41.5327 45.2516 41.3738L46.4543 40.6817C46.7267 40.5228 47.0671 40.6136 47.2259 40.8859C47.3848 41.1582 47.2827 41.4986 47.0217 41.6575L45.819 42.3496C45.7282 42.395 45.6374 42.429 45.5353 42.429Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M45.9443 38.788H44.56C44.2423 38.788 43.9927 38.5384 43.9927 38.2206C43.9927 37.9029 44.2423 37.6533 44.56 37.6533H45.9443C46.262 37.6533 46.5116 37.9029 46.5116 38.2206C46.5116 38.5384 46.262 38.788 45.9443 38.788Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M46.7273 35.8275C46.6365 35.8275 46.5344 35.8048 46.4436 35.7481L45.2409 35.0559C44.9686 34.8971 44.8778 34.5567 45.0367 34.2844C45.1955 34.012 45.5473 33.9213 45.8082 34.0801L47.011 34.7723C47.2833 34.9311 47.3741 35.2715 47.2152 35.5438C47.1131 35.7254 46.9202 35.8275 46.7273 35.8275Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M48.8837 33.6627C48.6908 33.6627 48.4979 33.5605 48.3958 33.379L47.7037 32.1876C47.5448 31.9153 47.6356 31.5749 47.9079 31.4161C48.1802 31.2572 48.5206 31.348 48.6795 31.6203L49.3716 32.8117C49.5305 33.084 49.4397 33.4244 49.1674 33.5832C49.0766 33.64 48.9745 33.6627 48.8837 33.6627Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M51.8564 32.8529C51.5387 32.8529 51.2891 32.6033 51.2891 32.2856V30.9013C51.2891 30.5836 51.5387 30.334 51.8564 30.334C52.1741 30.334 52.4237 30.5836 52.4237 30.9013V32.2856C52.4237 32.6033 52.1741 32.8529 51.8564 32.8529Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M54.806 33.6475C54.7152 33.6475 54.6131 33.6248 54.5223 33.5795C54.25 33.4206 54.1479 33.0802 54.3067 32.8079L54.9876 31.6052C55.1464 31.3329 55.4868 31.2421 55.7591 31.3896C56.0315 31.5485 56.1336 31.8888 55.9747 32.1612L55.2939 33.3639C55.1918 33.5454 54.9989 33.6475 54.806 33.6475Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M56.9738 35.804C56.7809 35.804 56.588 35.7019 56.4859 35.5204C56.327 35.2481 56.4178 34.9077 56.6901 34.7488L57.8815 34.0567C58.1538 33.8978 58.4942 33.9886 58.6531 34.2609C58.812 34.5332 58.7212 34.8736 58.4489 35.0325L57.2575 35.7246C57.1667 35.7814 57.0646 35.804 56.9738 35.804Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M59.1617 38.7694H57.7661C57.4484 38.7694 57.1987 38.5198 57.1987 38.2021C57.1987 37.8844 57.4484 37.6348 57.7661 37.6348H59.1617C59.4795 37.6348 59.7291 37.8844 59.7291 38.2021C59.7291 38.5198 59.4795 38.7694 59.1617 38.7694Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M58.1873 42.4203C58.0965 42.4203 57.9944 42.3976 57.9036 42.3408L56.7009 41.6487C56.4285 41.4898 56.3378 41.1494 56.4966 40.8771C56.6555 40.6048 56.9959 40.514 57.2682 40.6729L58.4709 41.365C58.7433 41.5239 58.834 41.8643 58.6752 42.1366C58.5731 42.3181 58.3802 42.4203 58.1873 42.4203Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                    <Path
                      d="M55.5092 45.0978C55.3163 45.0978 55.1234 44.9957 55.0213 44.8141L54.3291 43.6115C54.1703 43.3391 54.2724 42.9987 54.5334 42.8399C54.8057 42.681 55.1461 42.7718 55.3049 43.0441L55.9971 44.2468C56.1559 44.5191 56.0538 44.8595 55.7928 45.0184C55.7021 45.0638 55.6113 45.0978 55.5092 45.0978Z"
                      fill="#64748B"
                      fillOpacity="0.7"
                    />
                  </Svg>
                }
              />
            ))}
        </View>
      </ScrollView>
      <Modal animationType="slide" transparent={true} visible={modalVisible}>
        <View
          style={{
            flex: 1,
            justifyContent: "center",
            alignItems: "center",
            backgroundColor: "#00000060",
          }}
        >
          <View
            style={{
              height: "auto",
              width: width - 40,
              marginHorizontal: 20,
              backgroundColor: "white",
              borderRadius: 20,
              padding: 20,
              elevation: 5,
              justifyContent: "flex-start",
            }}
          >
            <Text
              style={{
                fontFamily: "Inter-Bold",
                textAlign: "center",
                fontSize: 16,
                color: "#1b1b1b",
              }}
            >
              Break Remarks
            </Text>
            {/* Remarks Textarea */}
            <Text
              style={{
                fontSize: 14,
                marginBottom: 5,
                color: "#64748B",
                fontFamily: "Inter-SemiBold",
              }}
            >
              Note
            </Text>
            <TextInput
              style={{
                backgroundColor: "white",
                borderRadius: 8,
                height: 90,
                padding: 10,
                textAlignVertical: "top",
                borderWidth: 1,
                borderStyle: "solid",
                borderColor: "#E2E8F0",
              }}
              multiline
              numberOfLines={4}
              value={text}
              onChangeText={setText}
            />
            {/* Cancel & Submit Btn */}
            <View
              style={{
                flexDirection: "row",
                justifyContent: "space-between",
                width: "100%",
                marginTop: "10%",
              }}
            >
              <TouchableOpacity
                onPress={() => setModalVisible(false)}
                style={{
                  height: 44,
                  width: 153,
                  borderRadius: 47,
                  borderWidth: 1,
                  borderStyle: "solid",
                  borderColor: "#64748B",
                  alignItems: "center",
                  justifyContent: "center",
                }}
              >
                <Text style={{ fontFamily: "Inter-Regular", color: "#64748B" }}>
                  Cancel
                </Text>
              </TouchableOpacity>
              <TouchableOpacity
                onPress={() => {}}
                style={{
                  height: 44,
                  width: 153,
                  borderRadius: 47,
                  backgroundColor: "#2563EB",
                  alignItems: "center",
                  justifyContent: "center",
                }}
              >
                <Text
                  style={{
                    color: "white",
                    fontFamily: "Inter-Regular",
                  }}
                >
                  Submit
                </Text>
              </TouchableOpacity>
            </View>
          </View>
        </View>
      </Modal>
    </View>
  );
};

export default BreakScreen;
